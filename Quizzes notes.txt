Quick integration notes & assumptions:
``````````````````````````````````````
- The auto-grader assumes quiz.questions[*]['answer'] contains the exact option string. If your quiz stores answers differently (e.g., index or id), adjust _grade_submission accordingly.
-  quiz.questions can optionally have a 'marks' key per question. If present, it will be used for per-question weighting. Otherwise marks are split evenly from quiz['totalMarks'].
- gradingDetails inserted into submissions includes per-question correctness and awarded marks; you can expose that later in response if you want to show question-level feedback to students.
- Aggregation pipelines use quizSubmissions collection name (same as before). Ensure the DB collection name matches: db.quizSubmissions.
- These functions are written to be safe and efficient (most heavy-lifting done in Mongo aggregation), but indexes on quizId, studentId, teacherId, and status will speed things up â€” consider creating them.

Example recommended indexes:
````````````````````````````
# in db init
await db.quizSubmissions.create_index([("quizId", 1)])
await db.quizSubmissions.create_index([("studentId", 1)])
await db.quizSubmissions.create_index([("status", 1)])
await db.quizzes.create_index([("teacherId", 1)])